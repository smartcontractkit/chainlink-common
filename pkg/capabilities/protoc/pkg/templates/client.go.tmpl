package {{.GoPackageName}}

import (
    "errors"
    "google.golang.org/protobuf/types/known/anypb"

    "github.com/smartcontractkit/chainlink-common/pkg/workflows/sdk"
    "github.com/smartcontractkit/chainlink-common/pkg/workflows/wasm/pb"
)

{{- range .Services}}
{{ $service := . }}
type {{.GoName}} struct {
    // TODO config types (optional)
    // TODO capability interfaces.
}

    {{- range .Methods}}
    {{- $args := dict
        "Service" $service
        "Method" .
        "CapabilityId" $.CapabilityId
        "Mode" $.Mode
        "InputType" .Input.GoIdent.GoName
        "OutputType" .Output.GoIdent.GoName
    }}
        {{- if isTrigger . }}
            {{template "trigger_method" $args}}
        {{- else }}
            {{template "action_method" $args}}
        {{- end }}
    {{- end }}
{{- end }}
